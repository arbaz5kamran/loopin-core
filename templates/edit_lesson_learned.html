{% extends "base.html" %}
{% block title %}Edit Lesson Learned{% endblock %}

{% block content %}
<h2>Edit Lesson Learned</h2>

<form method="POST" action="{{ url_for('edit_lesson_learned', lesson_id=lesson.id) }}">
  <div class="form-group">
    <label for="title">Title*</label><br>
    <input type="text" id="title" name="title" value="{{ lesson.title }}" required class="form-control">
  </div>

  <div class="form-group">
    <label for="content">Content*</label><br>
    <textarea id="content" name="content" rows="8" required class="form-control">{{ lesson.content }}</textarea>
  </div>

  <div class="form-group">
    <label for="summary">Summary</label><br>
    <textarea id="summary" name="summary" rows="4" class="form-control">{{ lesson.summary or '' }}</textarea>
  </div>

  <div class="form-group">
    <label for="author">Author</label><br>
    <input type="text" id="author" name="author" value="{{ lesson.author or '' }}" class="form-control">
  </div>

  <div class="form-group">
    <label for="department">Department</label><br>
    <input type="text" id="department" name="department" value="{{ lesson.department or '' }}" class="form-control">
  </div>

  <div class="form-group">
    <label for="tags">Tags (comma-separated)</label><br>
    <input type="text" id="tags" name="tags" value="{{ lesson.tags | join(', ') if lesson.tags else '' }}" class="form-control">
  </div>

  <button type="submit" class="btn btn-primary">Save Changes</button>
  <a href="{{ url_for('list_lessons_learned') }}" class="btn btn-secondary">Cancel</a>
</form>

<!-- Optional: Delete form -->
<form method="POST" action="{{ url_for('delete_lesson_learned', lesson_id=lesson.id) }}" onsubmit="return confirm('Are you sure you want to delete this Lesson Learned?');" style="margin-top:1em;">
  <button type="submit" class="btn btn-danger">Delete This Lesson Learned</button>
</form>
{% endblock %}
